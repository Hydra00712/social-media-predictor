AZURE SECURITY & STREAMING SETUP
=================================

This guide shows how to set up Azure resources for Security and Streaming features.

WHAT WILL BE CREATED:
---------------------
1. Azure Key Vault (FREE) - Secure secrets management
2. Azure Event Hub (Basic tier ~$11/month) - Real-time streaming
3. Application Insights (FREE tier) - Monitoring and alerts
4. RBAC Configuration - Role-based access control

PREREQUISITES:
--------------
1. Azure CLI installed (https://aka.ms/installazurecliwindows)
2. Azure for Students subscription (already have)
3. Logged in to Azure

STEP 1: INSTALL AZURE CLI
--------------------------
Download and install from: https://aka.ms/installazurecliwindows
Restart PowerShell after installation

STEP 2: RUN THE SETUP SCRIPT
-----------------------------
Open PowerShell in this directory and run:

    .\azure_setup_security_streaming.ps1

This will:
- Create Azure Key Vault
- Create Event Hub for streaming
- Create Application Insights
- Configure RBAC
- Store all secrets in Key Vault
- Update azure_config.json

STEP 3: INSTALL PYTHON DEPENDENCIES
------------------------------------
    pip install -r requirements.txt

This installs:
- azure-keyvault-secrets
- azure-eventhub
- azure-monitor-opentelemetry
- applicationinsights

STEP 4: TEST THE INTEGRATION
-----------------------------
Run the Streamlit app:

    streamlit run streamlit_app.py

You should see in the sidebar:
- üîê Key Vault: Connected
- üì° Event Hub: Streaming
- üõ°Ô∏è RBAC: Enabled

WHAT EACH COMPONENT DOES:
--------------------------

1. AZURE KEY VAULT
   - Stores connection strings securely
   - No secrets in code or environment variables
   - RBAC controls who can access secrets
   - FREE tier (10,000 operations/month)

2. EVENT HUB
   - Streams predictions in real-time
   - Enables real-time analytics
   - Can connect to Stream Analytics, Power BI
   - Basic tier: 1 million events/month

3. APPLICATION INSIGHTS
   - Monitors app performance
   - Tracks errors and exceptions
   - Creates alerts for issues
   - FREE tier (5 GB/month)

4. RBAC (Role-Based Access Control)
   - Controls who can access what
   - Logs all access attempts
   - Audit trail for compliance
   - Built into Azure (FREE)

SECURITY FEATURES:
------------------
‚úÖ Secrets stored in Azure Key Vault (not in code)
‚úÖ RBAC for access control
‚úÖ Access logging for audit trail
‚úÖ Encrypted connections (TLS)
‚úÖ Azure AD authentication

STREAMING FEATURES:
-------------------
‚úÖ Real-time prediction streaming to Event Hub
‚úÖ Automatic alerts for anomalies
‚úÖ Event-driven architecture
‚úÖ Scalable to millions of events

COST BREAKDOWN:
---------------
- Key Vault: FREE (standard tier)
- Event Hub: ~$11/month (Basic tier)
- Application Insights: FREE (up to 5GB)
- RBAC: FREE (built-in)

Total: ~$11/month (can delete after demo)

TO DELETE RESOURCES AFTER DEMO:
--------------------------------
    az eventhubs namespace delete --name eh-socialmedia-ml --resource-group rg-social-media-ml
    az keyvault delete --name kv-socialmedia-ml --resource-group rg-social-media-ml
    az monitor app-insights component delete --app appi-socialmedia-ml --resource-group rg-social-media-ml

TROUBLESHOOTING:
----------------
Q: Azure CLI not found?
A: Install from https://aka.ms/installazurecliwindows and restart PowerShell

Q: Permission denied?
A: Make sure you're logged in: az login

Q: Event Hub too expensive?
A: You can skip Event Hub and just use Key Vault + RBAC (both FREE)

Q: Can't connect to Key Vault?
A: Check RBAC permissions: az role assignment list --assignee <your-email>

FOR PRESENTATION:
-----------------
Show in Azure Portal:
1. Key Vault with secrets stored
2. Event Hub with streaming events
3. Application Insights with metrics
4. Access logs in database

Explain:
- "We use Azure Key Vault to securely store all connection strings"
- "Event Hub streams predictions in real-time for analytics"
- "RBAC ensures only authorized users can access resources"
- "All access is logged for security compliance"

GRADING CRITERIA MET:
---------------------
‚úÖ Security & Governance - Azure Key Vault + RBAC + Access Logs
‚úÖ Streaming - Azure Event Hub for real-time data
‚úÖ Monitoring - Application Insights + Alerts
‚úÖ Cloud Integration - Full Azure stack

Good luck with your presentation! üéì

